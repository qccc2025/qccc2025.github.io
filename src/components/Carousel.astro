---
import { Image } from 'astro:assets';
import Slide from '../components/Slide.astro';

interface Slide {
  src: string;
  alt?: string;
  text: string;
}

interface Props {
  carouselData: [Slide]
}

const data = Astro.props;

const count = data.carouselData.length
const prev = (idx) => ((idx-1+count)%count)
const next = (idx) => ((idx+1)%count)
---

<div class="carousel">
{data.carouselData.map((item: Slide, idx: number) => (
  <Slide
    prev={prev(idx)} next={next(idx)} cur={idx}
    src={item.src} alt={item.alt} text={item.text} />
))}
</div>
